# üìã –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ test.duxigo.org

## üöÄ –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

### Windows PowerShell
```powershell
.\setup-duxigo.ps1; .\deploy.ps1 docker
```

### Linux/Mac
```bash
chmod +x setup-duxigo.sh deploy.sh && ./setup-duxigo.sh && ./deploy.sh docker
```

## üìù –ü–æ—à–∞–≥–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
# –°–æ–∑–¥–∞—Ç—å .env
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env (—É–∫–∞–∑–∞—Ç—å SYNAPSE_BASE_URL)
```

### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
```bash
# Linux/Mac
./clone-repos.sh

# Windows
.\clone-repos.ps1
```

### 3. –§–∏–∫—Å–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π
```bash
# Linux/Mac
./fix-sdk-versions.sh

# Windows
.\fix-sdk-versions.ps1
```

### 4. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
```bash
sudo certbot certonly --standalone -d test.duxigo.org -d call.test.duxigo.org
sudo cp /etc/letsencrypt/live/test.duxigo.org/fullchain.pem certs/
sudo cp /etc/letsencrypt/live/test.duxigo.org/privkey.pem certs/
```

### 5. –î–µ–ø–ª–æ–π
```bash
# Docker Compose
./deploy.sh docker
# –∏–ª–∏
docker-compose up -d

# Kubernetes
./deploy.sh k8s
```

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
./test-connection.sh

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –õ–æ–≥–∏
docker-compose logs -f
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
docker-compose restart
# –∏–ª–∏
docker-compose down && docker-compose up -d
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
docker-compose pull
docker-compose up -d
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
docker-compose down
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose logs -f element-web
docker-compose logs -f element-call
```

### –°—Ç–∞—Ç—É—Å
```bash
docker-compose ps
docker stats
```

## üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
./test-connection.sh
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
```bash
netstat -tuln | grep -E '80|443|8080|3000'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
```bash
nslookup test.duxigo.org
nslookup call.test.duxigo.org
```

### –¢–µ—Å—Ç Synapse
```bash
curl https://synapse.test.duxigo.org/_matrix/client/versions
```

## üîÑ Kubernetes –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤
```bash
kubectl apply -f k8s/
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
```bash
kubectl get pods -n element
kubectl get svc -n element
kubectl get ingress -n element
```

### –õ–æ–≥–∏
```bash
kubectl logs -f deployment/element-web -n element
kubectl logs -f deployment/element-call -n element
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
kubectl rollout restart deployment/element-web -n element
kubectl rollout restart deployment/element-call -n element
```

